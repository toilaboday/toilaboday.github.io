"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[454],{83454:function(e,n,t){t.d(n,{T:function(){return F},y:function(){return M}});var r=t(85893),s=t(9008),i=t.n(s),o=t(25675),c=t.n(o),a=t(86215),l=t(11355),u=t(11163),d=t(67294),f=t(9878),m=t(54306),x=t(13495),p=t(12783),h=t(34103),b=function(){var e=(0,m.O)(),n=(0,x.h)(),t=n.visible,s=n.setVisible,i=(0,d.useState)(!1),o=i[0],c=i[1],a=(0,d.useState)(!1),l=a[0],u=a[1],b=(0,d.useRef)(null);(0,p.p)(b,o,(function(){return c(!1)}));return(0,r.jsxs)("div",{className:"relative flex justify-end",ref:b,children:[(0,r.jsxs)("button",{onClick:e.connected?function(){c(!o)}:function(){return s(!t)},className:"bg-slate-700 hover:bg-slate-600 rounded-md focus-style transition-colors",children:[(0,r.jsx)("div",{className:"md:block hidden py-2 px-4 text-sm text-slate-200 group-hover:text-slate-300",children:e.connected&&e.publicKey?"".concat(e.publicKey.toString().slice(0,6),"..."):"Connect"}),(0,r.jsx)("div",{className:"md:hidden p-1.5",children:(0,r.jsx)(f.Z,{className:"h-5 w-5"})})]}),(0,r.jsxs)("ul",{className:"".concat(o?"block":"hidden"," absolute top-full w-64 my-2  bg-slate-800 py-1 border border-slate-700 rounded flex flex-col space-y-1"),children:[(0,r.jsx)("li",{className:"hover:bg-slate-700 p-2 cursor-pointer",onClick:function(){e.publicKey&&(0,h.TE)(e.publicKey.toBase58()).then((function(){u(!0),setTimeout((function(){u(!1)}),1500)})).catch((function(e){console.log(e)}))},children:(0,r.jsx)("div",{children:(0,r.jsx)("p",{className:"text-sm text-slate-300",children:l?"Copied!":"Copy Address"})})}),(0,r.jsx)("li",{className:"hover:bg-slate-700 p-2 cursor-pointer",onClick:function(){e.disconnect(),c(!1)},children:(0,r.jsx)("div",{children:(0,r.jsx)("h2",{className:"text-sm text-slate-300",children:"Disconnect"})})})]})]})},v=t(43407),g=t(45548),y=t(7975),j=t(48680),N=t(24186),w=t(55263),P=t(48974),C=t(76249),S=t(36902),k=t(38597);function E(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function O(e){return function(e){if(Array.isArray(e))return E(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"===typeof e)return E(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return E(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var A=(0,S.ZP)()((0,k.tJ)((function(e,n){return{pinnedPrograms:[],pinProgram:function(t){j.Gz[t]||n().pinnedPrograms.includes(t)||e((function(e){return{pinnedPrograms:O(e.pinnedPrograms).concat([t])}}))},unpinProgram:function(n){e((function(e){return{pinnedPrograms:e.pinnedPrograms.filter((function(e){return e!==n}))}}))},isPinned:function(e){return n().pinnedPrograms.includes(e)||!!j.Gz[e]}}}),{name:"program-store"})),I=t(22920),B=t(78900),D=t(91296),T=t.n(D);function q(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function z(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,s,i=[],o=!0,c=!1;try{for(t=t.call(e);!(o=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);o=!0);}catch(a){c=!0,s=a}finally{try{o||null==t.return||t.return()}finally{if(c)throw s}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return q(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return q(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var R=function(e){var n=e.close,t=(0,u.useRouter)(),s=(0,m.O)(),i=(0,y.e)(),o=i.programID,c=i.setProgramID,a=(0,y.X)(),l=a.setCluster,f=a.isActiveCluster,p=a.setCustomEndpoint,h=a.cluster,b=(0,x.h)().setVisible,v=(0,d.useState)(!1),g=v[0],S=v[1],k=(0,d.useState)(o.toBase58()),E=k[0],O=k[1],D=(0,d.useState)(y.S.endpoint),q=D[0],R=D[1],G=A((function(e){return{pinnedPrograms:e.pinnedPrograms,pinProgram:e.pinProgram,unpinProgram:e.unpinProgram,isPinned:e.isPinned}})),K=G.pinProgram,Z=G.pinnedPrograms,J=G.unpinProgram,F=G.isPinned,M=function(e){c(e),S(!1)},_=function(e){R(e.target.value)},H=(0,d.useMemo)((function(){return T()(_,1e3)}),[]);return(0,d.useEffect)((function(){if("custom"===h.network)try{var e=new URL(q);e.toString()!==h.endpoint&&(p(e.toString()),I.Am.success("RPC endpoint updated!",{pauseOnHover:!1,autoClose:1e3}))}catch(n){console.error(n),I.Am.error("Invalid RPC endpoint")}}),[h,q]),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"md:hidden border-b border-slate-700 pb-3 space-y-2 flex-col flex",children:[(0,r.jsx)("button",{onClick:function(){t.push({pathname:"/decoder",query:t.query}),n()},className:"w-fit focus-style px-1 py-0.5 rounded",children:(0,r.jsx)("p",{className:"text-left text-slate-200 hover:underline focus-visible:outline-none rounded-sm focus-visible:ring-2 focus-visible:ring-cyan-400 focus-visible:border-none",children:"Decoder"})}),(0,r.jsx)("button",{onClick:function(){t.push({pathname:"/market/create",query:t.query}),n()},className:"w-fit focus-style px-1 py-0.5 rounded",children:(0,r.jsx)("p",{className:"text-left text-slate-200 hover:underline focus-visible:outline-none rounded-sm focus-visible:ring-2 focus-visible:ring-cyan-400 focus-visible:border-none",children:"Create Market"})})]}),(0,r.jsxs)("div",{className:"space-y-1 my-4 md:mt-2",children:[(0,r.jsx)("h3",{className:"text-xs text-transparent bg-clip-text serum-gradient",children:"Program ID"}),g?(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("form",{onSubmit:function(){M(E)},className:"space-y-2",children:[(0,r.jsx)("input",{type:"text",value:E,onChange:function(e){return O(e.target.value)},placeholder:"Market Address",className:"flex-1 px-4 py-2 w-full border-cyan-600 border-b bg-transparent focus:outline-none"}),(0,r.jsx)("button",{type:"submit",className:"hidden"})]}),Object.entries(j.Gz).map((function(e){var n=z(e,2),t=n[0],s=n[1];return(0,r.jsxs)("button",{type:"submit",className:"w-full bg-slate-700 hover:bg-slate-600 transition-colors py-2 px-4 rounded flex items-center justify-between cursor-pointer",onClick:function(){O(t),M(t)},children:[(0,r.jsx)("p",{className:"text-sm font-medium",children:s}),(0,r.jsxs)("p",{className:"text-sm font-light",children:[t.slice(0,16),"..."]})]},t)})),Z.length>0?(0,r.jsx)("div",{className:"space-y-2",children:Z.map((function(e){return(0,r.jsxs)("div",{className:"w-full bg-slate-700 hover:bg-slate-600 transition-colors py-2 px-4 rounded flex items-center justify-between text-left cursor-pointer",children:[(0,r.jsx)("button",{className:"flex-1 align-left",onClick:function(){O(e),M(e)},children:(0,r.jsxs)("p",{className:"text-sm font-medium text-left",children:[e.slice(0,12),"..."]})}),(0,r.jsx)("div",{onClick:function(){return J(e)},children:(0,r.jsx)(C.Z,{className:"h-5 w-5 text-slate-300 cursor-pointer hover:text-cyan-400 transition-all"})})]},e)}))}):null]}):(0,r.jsxs)("div",{className:"w-full flex items-center space-x-2 ",children:[(0,r.jsx)("p",{className:"text-slate-200",children:j.Gz[o.toString()]?j.Gz[o.toString()]:"".concat(o.toString().slice(0,18),"...")}),(0,r.jsx)("button",{onClick:function(){return e=o,void(j.Gz[e.toString()]||(F(e.toString())?J(e.toString()):K(e.toString())));var e},className:"focus-visible:outline-none rounded-sm focus-visible:ring-2 focus-visible:ring-cyan-400 focus-visible:border-none focus:outline-none",children:F(o.toString())?(0,r.jsx)(N.Z,{className:"text-slate-300 h-5 w-5 "}):(0,r.jsx)(w.Z,{className:"text-slate-300 h-5 w-5 focus-visible:outline-none focus-visible:border-none"})}),(0,r.jsx)("button",{onClick:function(){return S(!0)},className:"focus-visible:outline-none rounded-sm focus-visible:ring-2 focus-visible:ring-cyan-400 focus-visible:border-none",children:(0,r.jsx)(P.Z,{className:"text-slate-200 h-5 w-5"})})]})]}),(0,r.jsx)("div",{className:"mb-4",children:(0,r.jsxs)("div",{className:"space-y-1.5",children:[(0,r.jsx)("h3",{className:"text-transparent bg-clip-text serum-gradient text-xs",children:"Connection"}),(0,r.jsxs)("ul",{className:"space-y-1.5",children:[y.EE.map((function(e){if("Custom RPC"!==e.label)return(0,r.jsx)("li",{onClick:function(){return l(e)},className:"".concat(f(e)?"bg-slate-600":"bg-slate-700"," hover:bg-slate-600 p-2 cursor-pointer rounded-md "),children:(0,r.jsx)("div",{children:(0,r.jsx)("h2",{className:"text-sm font-medium text-slate-200",children:e.label})})},e.endpoint)})),(0,r.jsx)("li",{className:"".concat(f(y.S)?"bg-slate-600":"bg-slate-700 py-2"," hover:bg-slate-600 p-2 cursor-pointer rounded-md"),onClick:function(){return l(y.S)},children:(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"font-medium text-sm text-slate-200",children:"Custom RPC"}),"Custom RPC"===h.label&&(0,r.jsx)("input",{type:"text",defaultValue:y.S.endpoint,onChange:H,className:"border border-slate-500 p-2 text-slate-300 text-sm rounded mt-1 w-full bg-slate-700 focus:outline-none"})]})})]})]})}),(0,r.jsxs)("div",{className:"md:hidden",children:[s.connected?(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"text-xs text-transparent bg-clip-text serum-gradient",children:["Wallet address"," "]}),(0,r.jsx)("p",{className:"text-slate-200 mb-2 text-sm",children:(0,B.B)(s.publicKey,12)})]}):null,(0,r.jsx)("button",{onClick:function(){return s.connected?s.disconnect():b(!0)},className:"bg-slate-700 hover:bg-slate-600 transition-colors text-slate-200 rounded-md w-full py-2 px-2 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-cyan-400 focus-visible:border-none",children:s.connected?"Disconnect Wallet":"Connect"})]})]})},G=t(41664),K=t.n(G);function Z(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var J=function(){var e=(0,u.useRouter)(),n=(0,y.e)().programID,t=function(e){return e.address&&delete e.address,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){Z(e,n,t[n])}))}return e}({},e)};return(0,r.jsxs)(a.J,{className:"relative z-50",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 sm:px-6 md:space-x-6 space-x-2 bg-slate-800 border-b border-slate-700",children:[(0,r.jsxs)("div",{className:"flex justify-start items-center space-x-8",children:[(0,r.jsx)("button",{className:"text-lg text-white no-underline text-left flex space-x-2 items-center focus-visible:outline-none rounded-sm focus-visible:ring-2 focus-visible:ring-cyan-400 focus-visible:border-none",onClick:function(){return e.push({pathname:"/",query:t(e.query)})},children:(0,r.jsx)("p",{className:"text-transparent bg-clip-text serum-gradient",children:"Openbook Explorer"})}),(0,r.jsxs)("div",{className:"space-x-4 hidden md:flex items-center",children:[(0,r.jsx)(K(),{passHref:!0,href:{pathname:"/decoder",query:e.query},children:(0,r.jsx)("a",{className:"focus-style px-1 rounded",children:(0,r.jsx)("p",{className:"text-sm text-slate-200 hover:underline focus-visible:outline-none rounded-sm focus-visible:ring-2 focus-visible:ring-cyan-400 focus-visible:border-none",children:"Decoder"})})}),(0,r.jsx)(K(),{passHref:!0,href:{pathname:"/market/create",query:e.query},children:(0,r.jsx)("a",{className:"focus-style px-1 rounded",children:(0,r.jsx)("p",{className:"text-sm text-slate-200 hover:underline focus-visible:outline-none rounded-sm focus-visible:ring-2 focus-visible:ring-cyan-400 focus-visible:border-none",children:"Create Market"})})})]})]}),(0,r.jsx)("div",{className:"md:hidden",children:(0,r.jsxs)(a.J.Button,{className:"inline-flex items-center justify-center rounded-md p-1 md:p-2 text-slate-200 hover:bg-slate-800 hover:text-slate-300 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-cyan-500",children:[(0,r.jsx)("span",{className:"sr-only",children:"Open menu"}),(0,r.jsx)(v.Z,{className:"h-6 w-6","aria-hidden":"true"})]})}),(0,r.jsxs)("div",{className:"hidden items-center justify-end md:flex space-x-4",children:[(0,r.jsx)(a.J,{className:"relative",children:function(e){var t=e.open;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)("div",{className:"flex flex-col items-end",children:[(0,r.jsx)("p",{className:"text-xs text-transparent bg-clip-text serum-gradient",children:"Program ID"}),(0,r.jsx)("p",{className:"text-sm text-slate-200",children:j.Gz[n.toString()]?j.Gz[n.toString()]:"".concat((0,B.B)(n))})]}),(0,r.jsx)(a.J.Button,{className:"\n                ".concat(t?"":"text-opacity-90","\n                group inline-flex items-center rounded-md bg-slate-700 hover:bg-slate-600 px-3 py-2 text-sm focus-style transition-colors"),children:(0,r.jsx)(g.Z,{className:"".concat(t?"":"text-opacity-70","\n                  h-5 w-5 text-slate-200 group-hover:text-slate-300 transition duration-150 ease-in-out group-hover:text-opacity-80"),"aria-hidden":"true"})})]}),(0,r.jsx)(a.J.Panel,{className:"bg-slate-800 rounded-md shadow-md border border-slate-700 p-3 absolute right-0 z-10 mt-2 w-96 transform ",children:function(e){var n=e.close;return(0,r.jsx)(R,{close:n})}})]})}}),(0,r.jsx)(b,{})]})]}),(0,r.jsx)(l.u,{as:d.Fragment,enter:"duration-200 ease-out",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"duration-100 ease-in",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,r.jsx)(a.J.Panel,{focus:!0,className:"absolute w-full top-full origin-top transform transition md:hidden mt-2",children:function(e){var n=e.close;return(0,r.jsx)("div",{className:"rounded-lg bg-slate-800 border border-slate-700 px-2 py-4 shadow-2xl mx-2",children:(0,r.jsx)(R,{close:n})})}})})]})},F=function(e){var n=e.title,t=e.children;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i(),{children:(0,r.jsx)("title",{children:n?"".concat(n," - OpenBook Explorer"):"OpenBook Explorer"})}),(0,r.jsxs)("div",{className:"w-full h-screen overflow-y-auto flex flex-col space-y-4 justify-between",children:[(0,r.jsxs)("div",{className:"w-full mx-auto",children:[(0,r.jsx)(J,{}),(0,r.jsx)("div",{className:"px-4 py-10 max-w-4xl mx-auto space-y-6",children:t})]}),(0,r.jsx)("div",{className:"pb-4 flex items-center justify-center",children:(0,r.jsxs)("a",{href:"https://github.com/TheDeFiQuant/OBex",target:"_blank",rel:"noopener noreferrer",className:"no-underline text-sm font-light flex items-center space-x-2 hover:font-medium focus-visible:outline-none rounded-sm focus-visible:ring-2 focus-visible:ring-cyan-400 focus-visible:border-none",children:[(0,r.jsx)(c(),{src:"/github.svg",width:24,height:24,alt:"Github",className:"cursor-pointer"}),(0,r.jsx)("p",{children:"Source Code"})]})})]})]})},M=function(e,n){return(0,r.jsx)(F,{title:n,children:e})}},7975:function(e,n,t){t.d(n,{EE:function(){return s.EE},S:function(){return s.S},X:function(){return s.X},e:function(){return r.e}});var r=t(576),s=t(37068)},12783:function(e,n,t){t.d(n,{p:function(){return s}});var r=t(67294),s=function(e,n,t){(0,r.useEffect)((function(){var r=function(r){e.current&&!e.current.contains(r.target)&&n&&t()};return document.addEventListener("mousedown",r),function(){document.removeEventListener("mousedown",r)}}),[e,n,t])}},34103:function(e,n,t){t.d(n,{AK:function(){return c},E8:function(){return a},TE:function(){return f},_v:function(){return u},sR:function(){return l}});var r=t(34051),s=t.n(r);function i(e,n,t,r,s,i,o){try{var c=e[i](o),a=c.value}catch(l){return void t(l)}c.done?n(a):Promise.resolve(a).then(r,s)}function o(e){return function(){var n=this,t=arguments;return new Promise((function(r,s){var o=e.apply(n,t);function c(e){i(o,r,s,c,a,"next",e)}function a(e){i(o,r,s,c,a,"throw",e)}c(void 0)}))}}function c(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return n.filter(Boolean).join(" ")}function a(e,n){return"https://explorer.solana.com/tx/".concat(e,"?cluster=").concat("mainnet-beta"===n?null:n)}function l(e,n){return"https://explorer.solana.com/address/".concat(e.toString(),"?cluster=").concat("mainnet-beta"===n?null:n)}function u(e){return d.apply(this,arguments)}function d(){return(d=o(s().mark((function e(n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){return setTimeout(e,n)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return m.apply(this,arguments)}function m(){return(m=o(s().mark((function e(n){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("clipboard"in navigator)){e.next=6;break}return e.next=3,navigator.clipboard.writeText(n);case 3:return e.abrupt("return",e.sent);case 6:return e.abrupt("return",document.execCommand("copy",!0,n));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},78900:function(e,n,t){t.d(n,{B:function(){return s},d:function(){return i}});var r=t(68155);function s(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return e.toString().slice(0,n)+"..."}function i(e){try{return new r.PublicKey(e),!0}catch(n){return"Invalid PublicKey"}}}}]);