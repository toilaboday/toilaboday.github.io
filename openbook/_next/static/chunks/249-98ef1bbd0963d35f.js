(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[249],{74103:function(n,e,t){"use strict";t.d(e,{Z:function(){return i}});var r=t(85893),a=t(7975),o=t(34103);function i(n){var e=n.txSig,t=n.message,i=(0,a.X)().cluster;return(0,r.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,r.jsx)("p",{children:t}),(0,r.jsx)("a",{href:(0,o.E8)(e,i.network),target:"_blank",rel:"noopener noreferrer",className:"italic font-light text-sm",children:"View transaction"})]})}},65351:function(n,e,t){"use strict";t.d(e,{A3:function(){return m},Bb:function(){return h},C1:function(){return v},KQ:function(){return p},S7:function(){return d},Sz:function(){return f},aK:function(){return k},c9:function(){return S},dT:function(){return b},mf:function(){return x},yI:function(){return w},zW:function(){return g}});var r=t(34051),a=t.n(r),o=t(68155),i=t(13550),c=t.n(i),s=t(48764).Buffer;function u(n,e,t,r,a,o,i){try{var c=n[o](i),s=c.value}catch(u){return void t(u)}c.done?e(s):Promise.resolve(s).then(r,a)}function l(n){return function(){var e=this,t=arguments;return new Promise((function(r,a){var o=n.apply(e,t);function i(n){u(o,r,a,i,c,"next",n)}function c(n){u(o,r,a,i,c,"throw",n)}i(void 0)}))}}var f=2978,p=88,h=32,d=63,g=80,v=32,m=909,w=72,x=40;function k(n,e){return y.apply(this,arguments)}function y(){return(y=l(a().mark((function n(e,t){var r,i;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=new(c())(0);case 1:return n.prev=2,n.next=5,o.PublicKey.createProgramAddress([e.toBuffer(),r.toArrayLike(s,"le",8)],t);case 5:return i=n.sent,n.abrupt("return",[i,r]);case 9:n.prev=9,n.t0=n.catch(2),r.iaddn(1);case 12:n.next=1;break;case 14:case"end":return n.stop()}}),n,null,[[2,9]])})))).apply(this,arguments)}function b(n,e,t){var r=12+e+t*n,a=r%8;return a<=4?r+(4-a):r+(8-a+4)}function S(n,e,t){return Math.floor((n-12-e)/t)}},85972:function(n,e,t){"use strict";t.d(e,{Dr:function(){return v},FI:function(){return w},OJ:function(){return d},pz:function(){return l}});var r=t(34051),a=t.n(r),o=t(34103);function i(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function c(n,e,t,r,a,o,i){try{var c=n[o](i),s=c.value}catch(u){return void t(u)}c.done?e(s):Promise.resolve(s).then(r,a)}function s(n){return function(){var e=this,t=arguments;return new Promise((function(r,a){var o=n.apply(e,t);function i(n){c(o,r,a,i,s,"next",n)}function s(n){c(o,r,a,i,s,"throw",n)}i(void 0)}))}}function u(n){return function(n){if(Array.isArray(n))return i(n)}(n)||function(n){if("undefined"!==typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function(n,e){if(!n)return;if("string"===typeof n)return i(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);"Object"===t&&n.constructor&&(t=n.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return i(n,e)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(n,e,t,r){return f.apply(this,arguments)}function f(){return(f=s(a().mark((function n(e,t,r,o){var i,c,s,l,f;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r.publicKey){n.next=3;break}throw new Error("Wallet is not initialized");case 3:if(r.signTransaction){n.next=5;break}throw new Error("Wallet does not support signing");case 5:return n.next=7,e.getLatestBlockhash("confirmed");case 7:return c=n.sent,s=c.blockhash,l=c.lastValidBlockHeight,t.recentBlockhash=s,t.lastValidBlockHeight=l,t.feePayer=r.publicKey,n.next=15,r.signTransaction(t);case 15:return t=n.sent,o&&o.length>0&&(i=t).partialSign.apply(i,u(o)),n.t0=e,n.next=20,t.serialize();case 20:return n.t1=n.sent,n.next=23,n.t0.sendRawTransaction.call(n.t0,n.t1);case 23:return f=n.sent,n.next=26,e.confirmTransaction({signature:f,blockhash:s,lastValidBlockHeight:l});case 26:return n.abrupt("return",f);case 27:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var p=function(){return(new Date).getTime()/1e3},h=3e4;function d(n){return g.apply(this,arguments)}function g(){return(g=s(a().mark((function n(e){var t,r,o,i,c,s,l,f,p;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t=e.transaction,r=e.wallet,o=e.signers,i=void 0===o?[]:o,c=e.connection,r.publicKey&&r.signTransaction){n.next=3;break}throw new Error("Wallet not connected");case 3:return n.next=5,c.getLatestBlockhash("max");case 5:return s=n.sent,l=s.blockhash,f=s.lastValidBlockHeight,t.feePayer=r.publicKey,t.recentBlockhash=l,t.lastValidBlockHeight=f,i.length>0&&(p=t).partialSign.apply(p,u(i)),n.next=14,r.signTransaction(t);case 14:return n.abrupt("return",n.sent);case 15:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function v(n){return m.apply(this,arguments)}function m(){return(m=s(a().mark((function n(e){var t,r,o,i,c,s;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t=e.transactionsAndSigners,r=e.wallet,o=e.connection,r.signAllTransactions){n.next=3;break}throw new Error("Wallet not connected");case 3:return n.next=5,o.getLatestBlockhash("max");case 5:return i=n.sent,c=i.blockhash,s=i.lastValidBlockHeight,t.forEach((function(n){var e,t,a=n.transaction,o=n.signers,i=void 0===o?[]:o;if(!r.publicKey)throw new Error("Wallet not connected");(a.feePayer=r.publicKey,a.recentBlockhash=c,a.lastValidBlockHeight=s,(e=a).setSigners.apply(e,[r.publicKey].concat(u(i.map((function(n){return n.publicKey}))))),(null===i||void 0===i?void 0:i.length)>0)&&(t=a).partialSign.apply(t,u(i))})),n.next=11,r.signAllTransactions(t.map((function(n){return n.transaction})));case 11:return n.abrupt("return",n.sent);case 12:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function w(n){return x.apply(this,arguments)}function x(){return(x=s(a().mark((function n(e){var t,r,i,c,u,l,f,d,g,v,m,w,x,y,b;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.signedTransaction,r=e.connection,i=e.successCallback,c=e.sendingCallback,u=e.timeout,l=void 0===u?h:u,f=e.skipPreflight,d=void 0===f||f,g=t.serialize(),v=p(),c&&c(),n.next=6,r.sendRawTransaction(g,{skipPreflight:d});case 6:return m=n.sent,console.log("Started awaiting confirmation for",m),w=!1,s(a().mark((function n(){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(w||!(p()-v<l)){n.next=6;break}return r.sendRawTransaction(g,{skipPreflight:!0}),n.next=4,(0,o._v)(300);case 4:n.next=0;break;case 6:case"end":return n.stop()}}),n)})))(),n.prev=10,n.next=13,k(m,l,r);case 13:n.next=34;break;case 15:if(n.prev=15,n.t0=n.catch(10),!n.t0.timeout){n.next=19;break}throw new Error("Timed out awaiting confirmation on transaction");case 19:return n.next=21,r.simulateTransaction(t);case 21:if(!(x=n.sent)||!x.value.err){n.next=33;break}if(!x.value.logs){n.next=32;break}y=x.value.logs.length-1;case 25:if(!(y>=0)){n.next=32;break}if(!(b=x.value.logs[y]).startsWith("Program log: ")){n.next=29;break}throw new Error("Transaction failed: "+b.slice("Program log: ".length));case 29:--y,n.next=25;break;case 32:throw new Error(JSON.stringify(x.value.err));case 33:throw new Error("Transaction failed");case 34:return n.prev=34,w=!0,n.finish(34);case 37:return i&&i(m),console.log("Latency",m,p()-v),n.abrupt("return",m);case 40:case"end":return n.stop()}}),n,null,[[10,15,34,37]])})))).apply(this,arguments)}function k(n,e,t){return y.apply(this,arguments)}function y(){return(y=s(a().mark((function n(e,t,r){var i,c;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=!1,n.next=3,new Promise((function(n,c){s(a().mark((function u(){return a().wrap((function(u){for(;;)switch(u.prev=u.next){case 0:setTimeout((function(){i||(i=!0,console.log("Timed out for txid",e),c({timeout:!0}))}),t);try{r.onSignature(e,(function(t){console.log("WS confirmed",e,t),i=!0,t.err?c(t.err):n(t)}),r.commitment),console.log("Set up WS connection",e)}catch(l){i=!0,console.log("WS error in setup",e,l)}case 2:if(i){u.next=8;break}return s(a().mark((function t(){var o,s;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r.getSignatureStatuses([e]);case 3:o=t.sent,s=o&&o.value[0],i||s&&(s.err?(console.log("REST error for",e,s),i=!0,c(s.err)):s.confirmations||"confirmed"===s.confirmationStatus||"finalized"===s.confirmationStatus?(console.log("REST confirmed",e,s),i=!0,n(s)):console.log("REST not confirmed",e,s)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),i||console.log("REST connection error: txid",e,t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))(),u.next=6,(0,o._v)(300);case 6:u.next=2;break;case 8:case"end":return u.stop()}}),u)})))()}));case 3:return c=n.sent,i=!0,n.abrupt("return",c);case 6:case"end":return n.stop()}}),n)})))).apply(this,arguments)}},15365:function(){}}]);